<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Profile Setup</title>
  <link rel="stylesheet" href="profile.css" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
  <script type="module" src="seller-profile.js"></script>
</head>
<body>
    <h1>Welcome to ArtAlley</h1>
    <form id="profileForm">
        <h2>Complete Your Profile</h2>

        <input type="text" id="firstName" placeholder="First Name" required
        pattern="^[A-Za-z]{2,}$"
        oninvalid="this.setCustomValidity('Please enter a valid first name with only letters and at least 2 characters')"
        oninput="this.setCustomValidity('')">
    
        <input type="text" id="lastName" placeholder="Last Name" required
            pattern="^[A-Za-z]{2,}$"
            oninvalid="this.setCustomValidity('Please enter a valid last name with only letters and at least 2 characters')"
            oninput="this.setCustomValidity('')">
    
        <input type="text" id="profileUsername" placeholder="Username" required
          pattern="^[A-Za-z][A-Za-z0-9]{3,}$"
          oninvalid="this.setCustomValidity('Username must start with a letter, be at least 4 characters, and contain no special characters')"
          oninput="this.setCustomValidity('')">
    
        <input type="tel" id="number" placeholder="Phone Number" required
          pattern="[0-9]{10}" maxlength="10" inputmode="numeric"
          oninvalid="this.setCustomValidity('Phone number must be exactly 10 digits')"
          oninput="this.setCustomValidity('')">
    
        <input type="text" id="address" placeholder="Physical Address" required>
    
        <button type="submit">Submit Profile</button>
      </form>
    
      
      <script>
        const phoneInput = document.getElementById('number');
    
        phoneInput.addEventListener('input', (e) => {
        // Remove all non-digit characters
        e.target.value = e.target.value.replace(/\D/g, ''); 

        // Check if the phone number is complete (10 digits)
        if (e.target.value.length < 10) {
            phoneInput.setCustomValidity("Phone number must be 10 digits"); // Custom validation message
        } else {
            phoneInput.setCustomValidity(""); // Reset custom validation if the phone number is correct
        }
        });
        
        phoneInput.addEventListener('keydown', (e) => {
        const allowedKeys = ['Backspace', 'Delete', 'ArrowLeft', 'ArrowRight', 'Tab'];
        // Prevent any non-numeric keys from being typed
        if (!/^\d$/.test(e.key) && !allowedKeys.includes(e.key)) {
            e.preventDefault(); // Prevent non-numeric keys from being entered
        }
        });

        const firstNameInput = document.getElementById('firstName');
        const lastNameInput = document.getElementById('lastName');
        
        [firstNameInput, lastNameInput].forEach(input => {
          input.addEventListener('input', (e) => {
            e.target.value = e.target.value.replace(/[^A-Za-z]/g, '');
          });
        });

        //e.target.value = e.target.value.replace(/[^A-Za-z]/g, '');
        // Allow only letters in first name and last name (during typing)
        [firstNameInput, lastNameInput].forEach(input => {
          input.addEventListener('keydown', (e) => {
            const allowedKeys = ['Backspace', 'Delete', 'ArrowLeft', 'ArrowRight', 'Tab'];
            if (!/^[A-Za-z]$/.test(e.key) && !allowedKeys.includes(e.key)) {
              e.preventDefault();
            }
          });
        });

        const usernameInput = document.getElementById('profileUsername');
        // Allow only letters and numbers in username (no special characters)
        usernameInput.addEventListener('keydown', (e) => {
          const allowedKeys = ['Backspace', 'Delete', 'ArrowLeft', 'ArrowRight', 'Tab'];
          if (!/^[A-Za-z0-9]$/.test(e.key) && !allowedKeys.includes(e.key)) {
            e.preventDefault();
          }
        });
      </script>
      
</body>
</html>